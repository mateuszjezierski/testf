jQuery.fn.countdown=function(f){var g={stepTime:60,format:"dd:hh:mm:ss",startTime:"01:12:32:55",digitImages:6,digitWidth:67,digitHeight:90,timerEnd:function(){},image:"digits.png"};var h=[],intervals=[];var j=function(d){var c=0;for(var i=0;i<g.startTime.length;i++){if(parseInt(g.startTime[i])>=0){elem=$('<div id="cnt_'+c+'" class="cntDigit" />').css({height:g.digitHeight,float:'left',background:'url(\''+g.image+'\')',width:g.digitWidth});elem.current=parseInt(g.startTime[i]);h.push(elem);k(c,-elem.current*g.digitHeight*g.digitImages);switch(g.format[i]){case'h':h[c]._max=function(a,b){if(a%2==0)return 2;else return(b)?3:9};break;case'd':h[c]._max=function(){return 9};break;case'm':case's':h[c]._max=function(a){return(a%2==0)?5:9}}++c}else{elem=$('<div class="cntSeparator"/>').css({float:'left'}).text(g.startTime[i])}d.append(elem)}};var k=function(a,b){if(b!==undefined){h[a].margin=b;return h[a].css({'backgroundPosition':'0 '+b+'px'})}return h[a].margin||0};var l=function(b,c,d){if(intervals[b])window.clearInterval(intervals[b]);var e=-(g.digitHeight*g.digitImages*h[b].current);k(b,e);h[b].current=h[b].current+((d)?c:-c);var x=0;intervals[b]=setInterval(function(){if(x++===g.digitImages*c){window.clearInterval(intervals[b]);delete intervals[b];return}var a=d?-g.digitHeight:g.digitHeight;k(b,e+(x*a))},g.stepTime/c)};var m=function(a){if(h[a].current==0){if(a>0){var b=(h[a-1].current==0);l(a,h[a]._max(a,b),true);m(a-1)}else{for(var i=0;i<h.length;i++){clearInterval(intervals[i]);k(i,0)}g.timerEnd()}return}l(a,1)};$.extend(g,f);j(this);intervals.main=setInterval(function(){m(h.length-1)},1000)};